<h2 class="mat-h2">{{ (album$ | async)?.name }}</h2>

<p *ngIf="isAlbumError$ | async">
  Something went wrong <button mat-button type="button" (click)="getAlbum()">Try again</button>
</p>

<div *ngIf="album$ | async as album" class="thumbnails">
  <img
    *ngFor="let picture of album.pictures; let pictureIndex=index; trackBy: trackById"
    [src]="'/api/thumbnails/' + picture.id"
    (click)="showPictureViewer(pictureIndex)"
    class="thumbnails__thumbnail">
  <div *ngFor="let a of [1,2,3,4,5]" class="thumbnails__empty"></div>
</div>

<div *ngIf="(isAlbumPending$ | async) && !(album$ | async)" class="app-loader">
  <mat-spinner></mat-spinner>
</div>

<app-picture-viewer
  *cdkPortal
  [pictures]="(album$ | async)?.pictures"
  [selectedIndex]="selectedPictureIndex"
  (selectIndex)="selectedPictureIndex = $event"
  (close)="hidePictureViewer()">
</app-picture-viewer>
